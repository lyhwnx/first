<!doctype html>
<html class="no-js" lang="">

<head>
  <meta charset="utf-8">
  <title></title>
  <meta name="description" content="">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <meta property="og:title" content="">
  <meta property="og:type" content="">
  <meta property="og:url" content="">
  <meta property="og:image" content="">

  <link rel="manifest" href="site.webmanifest">
  <link rel="apple-touch-icon" href="icon.png">
  <!-- Place favicon.ico in the root directory -->

  <link rel="stylesheet" href="css/normalize.css">
  <link rel="stylesheet" href="css/main.css">

  <meta name="theme-color" content="#fafafa">
</head>

<body>

  <!-- Add your site or application content here -->
  <script src="js/vendor/modernizr-3.11.2.min.js"></script>
  <script src="js/plugins.js"></script>
  <script src="js/main.js"></script>
  <h1>发送运营商短信</h1>

	<p>请选择一个运营商：</p>

	<!-- 选择运营商 -->
	<button onclick="sendMessage('移动')">移动</button>
	<button onclick="sendMessage('联通')">联通</button>
	<button onclick="sendMessage('电信')">电信</button>
  <p>外省卡请点击：</p>
	<button onclick="sendMessage('中国移动')">外省移动</button>
	<button onclick="sendMessage('中国联通')">外省联通</button>
	<button onclick="sendMessage('中国电信')">外省电信</button>

  <!-- Google Analytics: change UA-XXXXX-Y to be your site's ID. -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
  function sendMessage(operator) {
    var recipient, message;

    // 根据不同运营商设置短信对象和内容
    if (operator === '移动') {
      recipient = '10086';
      message = 'smz';
    } else if (operator === '联通') {
      recipient = '10010';
      message = '205';
    } else if (operator === '电信') {
      recipient = '10001';
      message = 'smz#';
    }else if (operator === '中国移动') {
				// 打开应用商店（按照不同操作系统和设备具体情况可能会有不同的方案）
				if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
					window.open('https://apps.apple.com/cn/app/%E4%B8%AD%E5%9B%BD%E7%A7%BB%E5%8A%A8/id1024819997');
				} else if (navigator.userAgent.match(/android/i)) {
					window.open('https://play.google.com/store/apps/details?id=com.chinamobile.message&hl=zh_CN&gl=US');
				} else {
					alert('非常抱歉，您的设备不支持该功能');
				}
			} else if (operator === '中国电信') {
				// 打开应用商店（按照不同操作系统和设备具体情况可能会有不同的方案）
				if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
					window.open('https://apps.apple.com/cn/app/%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1%E5%AE%A2%E6%88%B7%E7%AB%AF/id467942777');
				} else if (navigator.userAgent.match(/android/i)) {
					window.open('https://play.google.com/store/apps/details?id=com.chinamobile.message&hl=zh_CN&gl=US');
				} else {
					alert('非常抱歉，您的设备不支持该功能');
				}
			} else if (operator === '中国联通') {
				// 打开应用商店（按照不同操作系统和设备具体情况可能会有不同的方案）
				if (navigator.userAgent.match(/(iPhone|iPod|iPad);?/i)) {
					window.open('https://apps.apple.com/cn/app/%E4%B8%AD%E5%9B%BD%E8%81%94%E9%80%9A%E5%8A%A8%E7%94%A8/id340038926');
				} else if (navigator.userAgent.match(/android/i)) {
					window.open('https://play.google.com/store/apps/details?id=com.chinaunicom.mobileapp&hl=zh_CN&gl=US');
				} else {
					alert('非常抱歉，您的设备不支持该功能');
				}
			}
			else {
				alert('非常抱歉，您选择的运营商不存在');
			}

    // 调用手机自带短信功能自动编辑短信
    // 判断是否为 iOS 操作系统
    var iOS = !!navigator.platform && /iP(ad|hone|od)/.test(navigator.platform);
    if (iOS) {
      // 在 iOS 操作系统下使用特殊协议打开短信功能
      window.location.href = 'sms:&addresses=' + recipient + '&body=' + encodeURIComponent(message);
    } else {
      // 在其他操作系统下使用常规协议打开短信功能
      window.location.href = 'sms:' + recipient + '?body=' + encodeURIComponent(message);
    }
    ga('create', 'UA-XXXXX-Y', 'auto');
    ga('set', 'anonymizeIp', true);
    ga('set', 'transport', 'beacon');
    ga('send', 'pageview')
  }
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async></script>
</body>

</html>
